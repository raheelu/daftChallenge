---
title: "The Story of Scurvy"
subtitle: "How a Misunderstood Cure Led to a 150-Year Tragedy"
format:
  html: default
execute:
  echo: true
  eval: true
---

# The Story of Scurvy: A Data Science Tragedy

For centuries, scurvy was the scourge of seafarers. This dreadful disease, marked by bleeding gums, weakness, and eventually death, claimed the lives of countless sailors on long oceanic voyages. The story of scurvy offers a powerful lesson in data science: even when we discover effective solutions, misunderstanding the underlying mechanism can cause us to lose those solutions for over a century.

## The Discovery (1747)

In 1747, Scottish naval surgeon James Lind conducted what many consider the first controlled clinical trial. He took 12 sailors suffering from scurvy and divided them into pairs, trying different treatments. The pair receiving citrus fruits - specifically lemons and oranges - recovered swiftly while others continued to deteriorate. 

Lind had discovered a cure, but the understanding was incomplete. He knew **lemons prevented scurvy**, but not *why* they worked. This incomplete causal understanding set the stage for disaster.

## The Misunderstanding (Late 1700s - Early 1800s)

Over time, a theory emerged that it was the *acid* in citrus fruits that killed bacteria supposedly causing scurvy. Armed with this wrong understanding, the British Navy made a catastrophic decision: they switched to limes (cheaper and less effective) and even experimented with other acidic substances like vinegar.

The misguided belief suggested that **acid kills bacteria**, which in turn **prevents scurvy**. This seemed logical at the time, but it was fundamentally incorrect. As a result, scurvy began to re-emerge in the fleet, and the original discovery was essentially lost.

## The Rediscovery (1928)

It wasn't until 1928 that Hungarian biochemist Albert Szent-Györgyi discovered the true mechanism: **Vitamin C** (ascorbic acid) was the essential nutrient preventing scurvy. This complete understanding finally explained why lemons worked, why limes were less effective (they had less vitamin C), and why the acid theory was wrong.

The story of scurvy demonstrates three different causal understandings of the same phenomenon, represented by these three DAGs:

```{python}
#| label: dag-1-1747
#| echo: false
#| fig-cap: "DAG 1: The 1747 Understanding - Lemons prevent Scurvy"

import daft
import matplotlib.pyplot as plt

# The 1747 DAG: Simple and direct, but missing the mechanism
pgm = daft.PGM(dpi=150, alternate_style="outer", aspect=1.2)

# Diagonal placement for visual appeal - shifted down to avoid text overlap
pgm.add_node("lemons", "Lemons", 1, 0.3, aspect=3, scale=1.1,
             plot_params={
                 'facecolor': 'lightyellow',  # Warm lemon color
                 'edgecolor': 'orange',       # Citrus edge
                 'linewidth': 2,
                 'alpha': 0.9,
             })

pgm.add_node("no_scurvy", "No\nScurvy", 3.5, -0.3, aspect=3, scale=1.1,
             plot_params={
                 'facecolor': 'lightgreen',   # Healthy green
                 'edgecolor': 'darkgreen',    # Strong green border
                 'linewidth': 2,
                 'alpha': 0.9,
             })

# Simple causal arrow: Lemons → No Scurvy
pgm.add_edge("lemons", "no_scurvy")
pgm.render()

# Layout adjustments for title space
fig = plt.gcf()
fig.set_size_inches(4.5, 4.0)
plt.subplots_adjust(top=0.85, bottom=0.25)

# Add narrative title and subtitle
plt.suptitle("James Lind (1747): Correct but Incomplete",
             fontsize=13, weight="bold", style="italic", y=0.95)
plt.title("Knew lemons worked but not why they worked",
          fontsize=9.5, style="italic", pad=8)

```

```{python}
#| label: dag-2-misguided
#| echo: false
#| fig-cap: "DAG 2: The Misguided Belief - Acid kills Bacteria to Prevent Scurvy"

import daft
import matplotlib.pyplot as plt

# The Misguided DAG: A chain of incorrect reasoning
pgm = daft.PGM(dpi=150, alternate_style="outer", aspect=1.2)

# Diagonal node placement - shifted down to avoid text overlap
pgm.add_node("acid", "Acid", 0.8, 0.5, aspect=3, scale=1.1,
             plot_params={
                 'facecolor': 'mistyrose',    # Warning color
                 'edgecolor': 'darkred',      # Strong red edge
                 'linewidth': 2,
                 'alpha': 0.9,
             })

pgm.add_node("bacteria", "Bacteria\nDeath", 2.4, 0.1, aspect=3, scale=1.1,
             plot_params={
                 'facecolor': 'lavender',         # Neutral purple
                 'edgecolor': 'darkslateblue',    # Strong border
                 'linewidth': 2,
                 'alpha': 0.9,
             })

pgm.add_node("no_scurvy", "No\nScurvy", 4.0, -0.5, aspect=3, scale=1.1,
             plot_params={
                 'facecolor': 'lightgreen',   # Healthy green
                 'edgecolor': 'darkgreen',    # Strong green border
                 'linewidth': 2,
                 'alpha': 0.9,
             })

# Incorrect causal chain: Acid → Bacteria Death → No Scurvy
pgm.add_edge("acid", "bacteria")
pgm.add_edge("bacteria", "no_scurvy")
pgm.render()

# Layout adjustments
fig = plt.gcf()
fig.set_size_inches(4.5, 4.0)
plt.subplots_adjust(top=0.85, bottom=0.25)

# Add narrative title and subtitle (in red to highlight the error)
plt.suptitle("The Misguided Belief (1800s)",
             fontsize=13, weight="bold", style="italic", color='darkred', y=0.95)
plt.title("Acid kills bacteria → WRONG understanding caused scurvy to return",
          fontsize=9.5, style="italic", color='darkred', pad=8)

```

```{python}
#| label: dag-3-1928
#| echo: false
#| fig-cap: "DAG 3: The 1928 Understanding - Vitamin C Prevents Scurvy"

import daft
import matplotlib.pyplot as plt

# The 1928 DAG: Complete scientific understanding
pgm = daft.PGM(dpi=150, alternate_style="outer", aspect=1.2)

# Diagonal placement - shifted down to avoid text overlap
pgm.add_node("vitamin_c", "Vitamin C", 1, 0.3, aspect=3, scale=1.1,
             plot_params={
                 'facecolor': 'lightblue',    # Scientific blue
                 'edgecolor': 'darkblue',     # Strong blue border
                 'linewidth': 2,
                 'alpha': 0.9,
             })

pgm.add_node("no_scurvy", "No\nScurvy", 3.5, -0.3, aspect=3, scale=1.1,
             plot_params={
                 'facecolor': 'lightgreen',   # Healthy green
                 'edgecolor': 'darkgreen',    # Strong green border
                 'linewidth': 2,
                 'alpha': 0.9,
             })

# Correct causal relationship: Vitamin C → No Scurvy
pgm.add_edge("vitamin_c", "no_scurvy")
pgm.render()

# Layout adjustments
fig = plt.gcf()
fig.set_size_inches(4.5, 4.0)
plt.subplots_adjust(top=0.85, bottom=0.25)

# Add narrative title and subtitle (in blue for scientific truth)
plt.suptitle("The Complete Understanding (1928)",
             fontsize=13, weight="bold", style="italic", color='darkblue', y=0.95)
plt.title("Vitamin C deficiency causes scurvy → explains all earlier observations",
          fontsize=9.5, style="italic", color='darkblue', pad=8)

```
